---
title: Hive DDL之数据库操作
date: 2020-1-30 19:55:25
tags:
 - hadoop
 - hive
categories: 大数据
---



**官方文档**：https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL

详情请看官方文档，本文只记录部分关键字便于回忆查询



DDL：Hive Data Definition Language

&emsp;&emsp;create、delete、alter...



Hive数据抽象/结构

```
database     HDFS一个目录
	table    HDFS一个目录
		data  文件 
		partition 分区表  HDFS一个目录
			data  文件 
			bucket  分桶   HDFS一个文件
```



创建数据库

```
CREATE (DATABASE|SCHEMA) [IF NOT EXISTS] database_name
  [COMMENT database_comment]
  [LOCATION hdfs_path]
  [WITH DBPROPERTIES (property_name=property_value, ...)];
  
  
CREATE DATABASE IF NOT EXISTS hive;

CREATE DATABASE IF NOT EXISTS hive2 LOCATION '/test/location';

CREATE DATABASE IF NOT EXISTS hive3 WITH DBPROPERTIES('creator'='pearfl');
```

/usr/hive/warehouse是Hive默认的存储在HDFS上的路径



```
LOAD DATA LOCAL INPATH '/home/hadoop/data/emp.txt' OVERWRITE INTO TABLE emp;

LOAD DATA [LOCAL] INPATH 'filepath' [OVERWRITE] INTO TABLE tablename [PARTITION (partcol1=val1, partcol2=val2 ...)]

LOCAL：本地系统，如果没有local那么就是指的HDFS的路径
OVERWRITE：是否数据覆盖，如果没有那么就是数据追加

LOAD DATA LOCAL INPATH '/home/hadoop/data/emp.txt' OVERWRITE INTO TABLE emp;

LOAD DATA INPATH 'hdfs://hadoop000:8020/data/emp.txt' INTO TABLE emp;
```



```
INSERT OVERWRITE LOCAL DIRECTORY '/tmp/hive/'
ROW FORMAT DELIMITED FIELDS TERMINATED BY '\t'
select empno,ename,sal,deptno from emp;
```