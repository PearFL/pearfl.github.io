---
title: mysql5.6安装
date: 2020-1-15 17:21:11
tags:
 - linux
 - mysql
categories: 随笔分享
---

本次操作在centos7.2版本的服务器上成功实现，本文不涉及rpm和源码安装2种方式，本文采用二进制安装

## 1.首先我们需要卸载内置的mariadb

原因是以前的Linux系统中数据库大部分是mysql，不过自从被sun收购之后，就没用集成在centos这些开源Linux系统中了，那么如果想用的话就需要自己安装了，首先centos7 已经不支持mysql，因为收费了你懂得，所以内部集成了mariadb，而安装mysql的话会和mariadb的文件冲突，所以需要先卸载掉mariadb

操作

```
# yum search mysql //检查是否有mariadb.x86_64
# yum remove mariadb-libs.x86_64
```



## 2.下载mysql

安装包：mysql-5.6.47-linux-glibc2.12-x86_64.tar.gz

```
// 下载
#wget https://dev.mysql.com/get/Downloads/MySQL-5.6/mysql-5.6.47-linux-glibc2.12-x86_64.tar.gz
// 解压
# tar -zxvf mysql-5.6.47-linux-glibc2.12-x86_64.tar.gz
// 复制解压后的mysql目录
# cp -r mysql-5.6.47-linux-glibc2.12-x86_64 /usr/local/mysql
```



## 3.添加用户组和用户

```
//添加用户组
# groupadd mysql
//添加用户mysql 到用户组mysql
# useradd -g mysql mysql
```



## 4.安装

```
# cd /usr/local/mysql/
# mkdir ./data/mysql
# chown -R mysql:mysql ./
# ./scripts/mysql_install_db --user=mysql --datadir=/usr/local/mysql/data/mysql
# cp support-files/mysql.server /etc/init.d/mysqld
# chmod 755 /etc/init.d/mysqld
# cp support-files/my-default.cnf /etc/my.cnf

//修改启动脚本
# vi /etc/init.d/mysqld

//修改项：
basedir=/usr/local/mysql/
datadir=/usr/local/mysql/data/mysql

//启动服务
# service mysqld start

//加入环境变量，编辑 /etc/profile，这样可以在任何地方用mysql命令了
# export PATH=$PATH:/usr/local/mysql//bin<br>source /etc/profile

//启动mysql
# service mysqld start
//关闭mysql
# service mysqld stop
//查看运行状态
# service mysqld status
```



可能出现的问题↓

问题1:：FATAL ERROR: please install the following Perl modules before executing

问题原因：缺少autoconf库

解决方案：

```
yum -y install autoconf
```



问题2：Installing MySQL system tables..../bin/mysqld: error while loading shared libraries: libaio.so.1: cannot open shared object file: No such file or directory

问题原因：缺少libaio库文件

解决方案：

```
yum -y install libaio*
```