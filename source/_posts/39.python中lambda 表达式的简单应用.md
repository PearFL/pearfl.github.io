---
title: python中lambda 表达式的简单应用
date: 2020-2-12 11:55:32
tags:
 - lambda
 - python
categories: 随笔分享
---

# lambda表达式

在 Python 中，可以通过 lambda 表达式来便捷地定义一个功能简单的函数，这个函数只有实现没有名字，所以叫作匿名函数

lambda 表达式的写法如下：

```python
lambda 参数1, 参数2, 参数N: 函数实现
```

使用上述表达式将定义一个匿名函数，这个匿名函数可接受若干参数，参数写在冒号前（`:`），多个参数时用逗号分隔，其实现写在冒号后（`:`）。

举个例子：

```python
f = lambda x: x ** 2
```

这个 lambda 表达式定义了一个匿名函数，这个匿名函数接受一个参数 `x`，返回 `x ** 2` 的计算结果。同时赋值语句将这个匿名函数赋值给了变量 `f`。**注意 `f` 保存的是函数，而不是函数结果。**

```python
>>> f
<function at 0x10bcba0d0>

>>> f(4)
16
>>> f(9)
81
```

通过观察上述示例可以发现，lambda 表达式中并没有 `return` 关键字，但结果被返回出来。是的，匿名函数的 `函数实现` 的执行结果就会作为它的返回值，无需使用 `return` 关键字。

从功能上来看，`lambda x: x ** 2` 等同于：

```python
def no_name(x):
    return x ** 2
```

```python
>>> no_name(4)
16
```



一般情况下，我们不会像 `f = lambda x: x ** 2` 这样直接将匿名函数赋值给变量，然后去用这个变量。而是在需要将函数作为参数时，才去使用 lambda 表达式，这样就无需在函数调用前去定义另外一个函数了。

如我们刚才写的函数 `filter_nums`：

```python
def filter_nums(nums, want_it):
    return [n for n in nums if want_it(n)]
```

它的 `want_it` 参数需要是一个函数 ，这时用 lambda 表达式便能方便的解决问题。可以像这样来使用：

```python
>>> filter_nums([11, 12, 13, 14, 15, 16, 17, 18], lambda x: x % 2 == 0)
[12, 14, 16, 18]
```

以前讲内置函数的时候，我们介绍过排序函数 `sorted()`。它有一个参数 `key`，用来在排序复杂元素时，指定排序所使用的字段，这个参数需要是个函数，同样可以用 lambda 表达式来解决：

```python
>>> codes = [(‘上海’, ‘021’), (‘北京’, ‘010’), (‘成都’, ‘028’), (‘广州’, ‘020’)]
>>> sorted(codes, key=lambda x: x[1]) # 以区号字典来排序
[(‘北京’, ‘010’), (‘广州’, ‘020’), (‘上海’, ‘021’), (‘成都’, ‘028’)]
```

