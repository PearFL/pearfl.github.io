---
title: hadoop之jps详解
date: 2020-2-6 14:22:11
tags:
 - hadoop
categories: 大数据
---

**jps最主要的功能使查看java接口的进程号**

jps(Java Virtual Machine Process Status Tool)是JDK 1.5提供的一个显示当前所有 java 进程 pid 的命令，简单实用，非常适合在 linux/unix 平台上简单察看当前java进程的一些简单情况。

注：jps命令有个地方很不好，似乎只能显示当前用户的java进程，要显示其他用户的还是只能用unix/linux的ps命令

## jps常用参数

1.命令jps类似于Linux下的ps，但它只用于列出Java的进程。直接运行jps不加任何参数，可以列出Java程序的进程ID以及Main函数等名称。

其中一个输出jps就是jps命令本身，这更加证明此命令的本质也是一个Java程序



2.参数-q 指定jps只输出进程ID，而不输出类的短名称



3.参数-m 用于输出传递给Java进程（主函数）的参数



4.参数-l 输出应用程序main class的完整package名 或者 应用程序的jar文件完整路径名



5.参数-v 可以显示传递给JVM的参数



## 问题：process information unavailable

1.找到进程号jps

2.ps -ef|grep pid是否存在（这步很关键要做判断查看进程是否存在）

3.假如进程不存在，我们可以去该/tmp/hsperfdata_xxx去删除

4.如果存在千万别删，自己查看是不可以的，其他用户查看是可用的。

5不存在举例：我不知道是这个进程是属于哪个用户的我们怎么操作呢？ps -ef|grep pid查看进程号属于哪个目录删除就可了

6.如果存在ps -ef |grep pid 看到了用户名，su 切换过去jps一下就好了



## 关于jps的一些总结

```
hadoop用户启动的 ./start-dfs.sh  jps后可以看到进程,
root用户看到的就是5235 -- process information unavailable,
ps -ef| grep 5235 看的到是hadoop用户的这个进程还在,
那这个状态就是假死,因为进程还在,所以说root用户是看不到hadoop启动的jps进程,
只有root用户启动hdfs才能看到jps下的三个进程,

root 使用jps只有两种情况：

第一种: 查看正常信息
第二种: - process information unavailable
```